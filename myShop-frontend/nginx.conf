# nginx.conf

# Define a server block that listens on port 80 (the default HTTP port).
server {
    listen 80;
    server_name localhost;

    # The root directory for your website's files.
    root /usr/share/nginx/html;
    index index.html;

    # This location block handles all standard file requests (e.g., HTML, CSS, JS).
    # It tries to find the file directly, or serves index.html if it's a directory.
    location / {
        try_files $uri $uri/ /index.html;
    }

    # --- THIS IS THE MAGIC PART ---
    # This location block handles any request whose URL starts with /api/
    location /api/ {
        # It forwards the request to the 'backend' service on port 8080.
        # Docker Compose lets containers find each other by their service name ('backend').
        proxy_pass http://backend:8080/api/;
    }
}